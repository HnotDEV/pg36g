---
title: "1. 扬帆起航：搭建你的数据库沙箱"
weight: 100
math: true
breadcrumbs: false
---


## 概览

在本章中，你会学到如何创建一台属于你自己的 PostgreSQL Devbox（开发沙箱），准备好后续学习 PostgreSQL 的环境与工具。

学习本章需要的技能：

- 使用 ssh 登陆服务器
- 基本文档阅读理解

## 前言

当老冯十年前第一次接触 PostgreSQL 的时候，我最大的感受就是想要上手 PostgreSQL 可并不简单，单纯拉起一套环境就要不少时间了。
而且当时并没有什么像样的文档与教程，手把手带我完成环境的搭建。因此，我努力回想当初的经历，尽可能还原出一个初学者的 Mindset，来编写本章内容。
所以你会发现，本章内容其实更多的是帮助初学者准备一个深度体验 PostgreSQL 的环境。

关于环境准备，老冯的建议是花小钱省大麻烦 —— 买个域名和微型云服务器。一年几十块钱人民币的开销就能省掉你大把的时间，其实是很划算的。


## 准备 Linux 服务器

首先，为什么使用 Linux 服务器，而不是 macOS 或者 Windows 呢？
虽然 PostgreSQL 也可以在 macOS 和 Windows 上运行，但在实际生产环境中，PG 几乎都是清一色的运行在 Linux 服务器上。
老冯的建议是直接学习真实环境中的 PostgreSQL，免得把一些 macOS（BSD）和 Windows 上的特性/怪癖当成 PostgreSQL 的特性，然后在实战中的 Linux 上翻车，一步到位是最好的。

然后是服务器的架构，我建议新人总是使用 x86_64 架构的 Linux 服务器上手。
如果你用的是新一点的 Apple Silicon 笔记本跑虚拟机，那么跑的是 ARM64 架构的 Linux 服务器，
这倒是没太大关系，但是新人上手建议还是从 x86 开始。


## 准备一台云服务器

老冯的建议是，购买一台云服务器，最好是香港/东京区域的云服务器，这样能免掉你折腾梯子与科学上网的烦恼，
科学上网是个很重要的技能，但没必要把时间浪费在这种事情上，香港和东京的云服务器，访问延迟很低，大概 50ms 左右。

其实各家云厂商都有免费的托管套餐，如果你想薅羊毛，其实到处都是。比如阿里云 99¥/年的羊毛机，以及那种秒杀价 ¥38 的轻量应用服务器。
这里1核1G的云服务器其实就够用了，但如果你想跑的舒畅一些，我建议最小用 1C2G 的配置，2C4G 的配置会更游刃有余一些。

老冯自己的服务器是 ClawCloud （阿里云青春版），日本东京，目前体验还不错。
现在日常价格大概 $10/月，2C/2G/40G 硬盘，1TB 流量，峰值带宽 1Gbps，国内访问 40ms 左右，活动价有时候能打五折，支持支付宝。
这玩意还可以用来科学上网，你也可以拿来建设自己的网站。总的来说，性价比还是很高的。

使用什么操作系统镜像？老冯的建议是 RockyLinux 9.6 或者 Ubuntu 24.04 LTS。
EL10 和 Debian 13 刚刚发布，还不太成熟，上面这两个系统的生态都比较完善，软件包版本也比较新，你可以挑一个喜欢的来用。


## 我就是想在笔记本上跑！

在现在，macOS 和 Windows 下都可以很轻松的使用虚拟化创建出 Linux 环境来。


## 准备一个域名

老冯的建议是，你最好准备一个域名，这个事情倒是不着急，但是如果你想从公网访问你的 数据库，Web 界面，有一个域名会方便很多。

我的建议是使用 Cloudflare，赛博菩萨提供了一系列极其慷慨的免费服务，而需要的只是每年花几美元（便宜的域名大概 4～5 美元一年，折合人民币三十来块钱一年）。
Cloudfalre 支持银联卡付款，银联信用卡可以直接用，如果你是 “国内储蓄卡”，有可能要开通 “境外支付” 才可以花美元，但这都是小问题。 

如果你实在折腾不来支付，或者必须要弄国内的环境，那么你也可以考虑阿里云的 DNS 或者腾讯云的 DNSPOD。
不过切记：在国内的域名和服务器是需要备案的，折腾这个一般划不来。


## SSH 登陆服务器

老实说，老冯觉得 ssh 属于程序员基础技能，默认每个程序员都应该会用。但我也确实见过很多不会用 ssh 的新手 ……

在你的笔记本上

如果你依然觉得这个事情有困难，你可以试试云厂商云服务器的图形终端控制台，如果你觉得这个还有难度，那么本教程不适合你，先学一下 Linux 基础知识再来会比较合适。



## GUI 工具

PostgreSQL 最强的的客户端永远都是自带的 `psql` 命令行工具，但对于初学者来说，使用图形化的客户端工具会更容易上手。

PostgreSQL 生态有许许多多的 GUI 图形工具，老冯的经验是，Intellij IDEA 全家桶自带的 Database Tool 最好用。
不过，这是一个收费商业软件 —— 如果你有开源项目，可以申请免费的许可证。

如果你想要使用不收费的工具，pgAdmin 是 PostgreSQL “官方” 开发的图形化客户端管理工具，你可以使用 Docker 拉起它，并且从浏览器中访问。
Pigsty 自带了 pgAdmin 的模板，通常只需要几行命令就可以把它拉起来。

除此之外，也有许多其他图形工具可以使用，比如 Navicat, DataGrip ，以及 VSCode 的 PostgreSQL 插件等等。
老冯是不太建议瞎折腾这些东西，有个能用的就行了，想要最好的就去整个 Intellij —— 你可以先试用后补票嘛。



## 总结

- 你需要一台 Linux 服务器来运行 PostgreSQL
- 建议你购买一台 Linux 云服务器，作为学习的环境，这样可以免去很多麻烦，我建议你从 Ubuntu 24.04 开始上手。
- 你可以使用 Pigsty 一键在 Linux 上创建一个可用于企业级真实生产环境级别的 PostgreSQL 实例
- 客户端工具



## 参考